import{f as W,a as V}from"../chunks/CTjkyNO8.js";import{i as fe}from"../chunks/DAGhhj25.js";import{j as ee,K as Ce,R as ae,h as L,aa as Ie,J as De,w as i,_ as Re,O as Me,P as Oe,Q as ge,S as re,m as K,ab as Fe,aH as He,as as me,f as Y,aO as U,k as ue,s as Ve,aj as he,V as Q,aF as ve,aP as Ne,aQ as We,aR as ze,aS as Ue,r as ke,p as Te,aT as te,ac as Le,aE as Pe,i as Ye,T as Qe,aU as Xe,aV as qe,aW as Be,aM as Ge,b as M,ak as Je,aX as Ke,C as de,I as d,D as G,F as ce,G as T,H as S,W as F,aY as q,E as Ee,x as Ze}from"../chunks/DaFxjPbW.js";import{e as C,s as je}from"../chunks/BQYkZOUT.js";import{r as R,a as Se}from"../chunks/Cxwe2ft-.js";import{s as pe,a as _e,b as B,p as ea,i as aa}from"../chunks/_999OL2b.js";import{w as ye}from"../chunks/CWvYodOI.js";function ra(e,a){return a}function ta(e,a,r){for(var l=[],f=a.length,n,o=a.length,s=0;s<f;s++){let _=a[s];Te(_,()=>{if(n){if(n.pending.delete(_),n.done.add(_),n.pending.size===0){var m=e.outrogroups;oe(ve(n.done)),m.delete(n),m.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var b=l.length===0&&r!==null;if(b){var u=r,p=u.parentNode;Pe(p),p.append(u),e.items.clear()}oe(a,!b)}else n={pending:new Set(a),done:new Set},(e.outrogroups??=new Set).add(n)}function oe(e,a=!0){for(var r=0;r<e.length;r++)Ye(e[r],a)}var $e;function Z(e,a,r,l,f,n=null){var o=e,s=new Map;{var b=e;o=L?ae(Ie(b)):b.appendChild(ee())}L&&De();var u=null,p=Re(()=>{var $=r();return Ne($)?$:$==null?[]:ve($)}),_,m=!0;function y(){v.fallback=u,la(v,_,o,a,l),u!==null&&(_.length===0?(u.f&U)===0?ke(u):(u.f^=U,X(u,null,o)):Te(u,()=>{u=null}))}var t=Ce(()=>{_=i(p);var $=_.length;let g=!1;if(L){var c=Me(o)===Oe;c!==($===0)&&(o=ge(),ae(o),re(!1),g=!0)}for(var I=new Set,x=Y,w=Ve(),N=0;N<$;N+=1){L&&K.nodeType===Fe&&K.data===He&&(o=K,g=!0,re(!1));var h=_[N],k=l(h,N),E=m?null:s.get(k);E?(E.v&&me(E.v,h),E.i&&me(E.i,N),w&&x.skipped_effects.delete(E.e)):(E=na(s,m?o:$e??=ee(),h,k,N,f,a,r),m||(E.e.f|=U),s.set(k,E)),I.add(k)}if($===0&&n&&!u&&(m?u=ue(()=>n(o)):(u=ue(()=>n($e??=ee())),u.f|=U)),L&&$>0&&ae(ge()),!m)if(w){for(const[D,O]of s)I.has(D)||x.skipped_effects.add(O.e);x.oncommit(y),x.ondiscard(()=>{})}else y();g&&re(!0),i(p)}),v={effect:t,items:s,outrogroups:null,fallback:u};m=!1,L&&(o=K)}function la(e,a,r,l,f){var n=a.length,o=e.items,s=e.effect.first,b,u=null,p=[],_=[],m,y,t,v;for(v=0;v<n;v+=1){if(m=a[v],y=f(m,v),t=o.get(y).e,e.outrogroups!==null)for(const k of e.outrogroups)k.pending.delete(t),k.done.delete(t);if((t.f&U)!==0)if(t.f^=U,t===s)X(t,null,r);else{var $=u?u.next:s;t===e.effect.last&&(e.effect.last=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),z(e,u,t),z(e,t,$),X(t,$,r),u=t,p=[],_=[],s=u.next;continue}if((t.f&te)!==0&&ke(t),t!==s){if(b!==void 0&&b.has(t)){if(p.length<_.length){var g=_[0],c;u=g.prev;var I=p[0],x=p[p.length-1];for(c=0;c<p.length;c+=1)X(p[c],g,r);for(c=0;c<_.length;c+=1)b.delete(_[c]);z(e,I.prev,x.next),z(e,u,I),z(e,x,g),s=g,u=x,v-=1,p=[],_=[]}else b.delete(t),X(t,s,r),z(e,t.prev,t.next),z(e,t,u===null?e.effect.first:u.next),z(e,u,t),u=t;continue}for(p=[],_=[];s!==null&&s!==t;)(b??=new Set).add(s),_.push(s),s=s.next;if(s===null)continue}(t.f&U)===0&&p.push(t),u=t,s=t.next}if(e.outrogroups!==null){for(const k of e.outrogroups)k.pending.size===0&&(oe(ve(k.done)),e.outrogroups?.delete(k));e.outrogroups.size===0&&(e.outrogroups=null)}if(s!==null||b!==void 0){var w=[];if(b!==void 0)for(t of b)(t.f&te)===0&&w.push(t);for(;s!==null;)(s.f&te)===0&&s!==e.fallback&&w.push(s),s=s.next;var N=w.length;if(N>0){var h=n===0?r:null;ta(e,w,h)}}}function na(e,a,r,l,f,n,o,s){var b=(o&We)!==0?(o&ze)===0?Q(r,!1,!1):he(r):null,u=(o&Ue)!==0?he(f):null;return{v:b,i:u,e:ue(()=>(n(a,b??r,u??f,s),()=>{e.delete(l)}))}}function X(e,a,r){if(e.nodes)for(var l=e.nodes.start,f=e.nodes.end,n=a&&(a.f&U)===0?a.nodes.start:r;l!==null;){var o=Le(l);if(n.before(l),l===f)return;l=o}}function z(e,a,r){a===null?e.effect.first=r:a.next=r,r===null?e.effect.last=a:r.prev=a}function Ae(e,a,r=!1){if(e.multiple){if(a==null)return;if(!Ne(a))return Xe();for(var l of e.options)l.selected=a.includes(xe(l));return}for(l of e.options){var f=xe(l);if(qe(f,a)){l.selected=!0;return}}(!r||a!==void 0)&&(e.selectedIndex=-1)}function ia(e){var a=new MutationObserver(()=>{Ae(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Qe(()=>{a.disconnect()})}function xe(e){return"__value"in e?e.__value:e.value}function H(e,a,r=a){var l=new WeakSet;Be(e,"input",async f=>{var n=f?e.defaultValue:e.value;if(n=le(e)?ne(n):n,r(n),Y!==null&&l.add(Y),await Ge(),n!==(n=a())){var o=e.selectionStart,s=e.selectionEnd,b=e.value.length;if(e.value=n??"",s!==null){var u=e.value.length;o===s&&s===b&&u>b?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=o,e.selectionEnd=Math.min(s,u))}}}),(L&&e.defaultValue!==e.value||M(a)==null&&e.value)&&(r(le(e)?ne(e.value):e.value),Y!==null&&l.add(Y)),Je(()=>{var f=a();if(e===document.activeElement){var n=Ke??Y;if(l.has(n))return}le(e)&&f===ne(e.value)||e.type==="date"&&!f&&!e.value||f!==e.value&&(e.value=f??"")})}function le(e){var a=e.type;return a==="number"||a==="range"}function ne(e){return e===""?null:+e}let be=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((a,r)=>(r&=63,r<36?a+=r.toString(36):r<62?a+=(r-26).toString(36).toUpperCase():r>62?a+="-":a+="_",a),"");const J=ye([]);function sa(e,a){J.update(r=>[...r,{id:be(),name:e,category:a}])}function we(e,a,r){J.update(l=>l.map(f=>f.id===e?{...f,[a]:r}:f))}function ua(e){J.update(a=>a.filter(r=>r.id!==e))}var oa=W("<li><label>Exercise Name: <input/></label> <label>Category: <input/></label> <button>Delete</button></li>"),fa=W('<h2>Exercises</h2> <label>Exercise Name: <input placeholder="Exercise Name"/></label> <label>Category: <input placeholder="Category"/></label> <button>Add Exercise</button> <ul></ul>',1);function va(e,a){de(a,!1);const r=()=>_e(J,"$exercises",l),[l,f]=pe();let n=Q(""),o=Q("");fe();var s=fa(),b=d(G(s),2),u=d(T(b));R(u),S(b);var p=d(b,2),_=d(T(p));R(_),S(p);var m=d(p,2),y=d(m,2);Z(y,5,r,t=>t.id,(t,v,$)=>{var g=oa(),c=T(g),I=d(T(c));R(I),S(c);var x=d(c,2),w=d(T(x));R(w),S(x);var N=d(x,2);S(g),H(I,()=>i(v).name,h=>(i(v).name=h,q(()=>r()),B(l,"$exercises"))),C("input",I,h=>we(i(v).id,"name",h.target.value)),H(w,()=>i(v).category,h=>(i(v).category=h,q(()=>r()),B(l,"$exercises"))),C("input",w,h=>we(i(v).id,"category",h.target.value)),C("click",N,()=>ua(i(v).id)),V(t,g)}),S(y),H(u,()=>i(n),t=>F(n,t)),H(_,()=>i(o),t=>F(o,t)),C("click",m,()=>{sa(i(n),i(o)),F(n,""),F(o,"")}),V(e,s),ce(),f()}const P=ye([]);function da(e,a,r){P.update(l=>[...l,{id:be(),name:e,date:a,note:r,sets:[]}])}function ie(e,a,r){P.update(l=>l.map(f=>f.id===e?{...f,[a]:r}:f))}function ca(e){P.update(a=>a.filter(r=>r.id!==e))}function pa(e,a){P.update(r=>r.map(l=>l.id===e?{...l,sets:[...l.sets,{id:be(),exerciseId:a,reps:0,weight:0}]}:l))}function se(e,a,r,l){P.update(f=>f.map(n=>n.id===e?{...n,sets:n.sets.map(o=>o.id===a?{...o,[r]:l}:o)}:n))}function _a(e,a){P.update(r=>r.map(l=>l.id===e?{...l,sets:l.sets.filter(f=>f.id!==a)}:l))}var ba=W("<p>No exercises available. Add an exercise first.</p>"),ga=W("<option> </option>"),ma=W('<li><label>Exercise: <select></select></label> <label>Reps: <input type="number" min="0" placeholder="0"/></label> <label>Weight: <input type="number" min="0" placeholder="0"/></label> <button>Delete Set</button></li>'),ha=W("<ul></ul> <button>Add Set</button>",1),Ea=W("<h4>Sets</h4> <!>",1);function Sa(e,a){de(a,!1);const r=()=>_e(J,"$exercises",l),[l,f]=pe();let n=ea(a,"session",8);fe();var o=Ea(),s=d(G(o),2);{var b=p=>{var _=ba();V(p,_)},u=p=>{var _=ha(),m=G(_);Z(m,5,()=>(Ze(n()),M(()=>n().sets)),t=>t.id,(t,v)=>{var $=ma(),g=T($),c=d(T(g));Z(c,5,r,ra,(E,D)=>{var O=ga(),j=T(O,!0);S(O);var A={};Ee(()=>{je(j,(i(D),M(()=>i(D).name))),A!==(A=(i(D),M(()=>i(D).id)))&&(O.value=(O.__value=(i(D),M(()=>i(D).id)))??"")}),V(E,O)}),S(c);var I;ia(c),S(g);var x=d(g,2),w=d(T(x));R(w),S(x);var N=d(x,2),h=d(T(N));R(h),S(N);var k=d(N,2);S($),Ee(()=>{I!==(I=(i(v),M(()=>i(v).exerciseId)))&&(c.value=(c.__value=(i(v),M(()=>i(v).exerciseId)))??"",Ae(c,(i(v),M(()=>i(v).exerciseId)))),Se(w,(i(v),M(()=>i(v).reps))),Se(h,(i(v),M(()=>i(v).weight)))}),C("change",c,E=>se(n().id,i(v).id,"exerciseId",E.target.value)),C("input",w,E=>se(n().id,i(v).id,"reps",+E.target.value)),C("input",h,E=>se(n().id,i(v).id,"weight",+E.target.value)),C("click",k,()=>_a(n().id,i(v).id)),V(t,$)}),S(m);var y=d(m,2);C("click",y,()=>pa(n().id,r()[0].id)),V(p,_)};aa(s,p=>{r(),M(()=>r().length===0)?p(b):p(u,!1)})}V(e,o),ce(),f()}var $a=W('<li><label>Name: <input/></label> <label>Date: <input type="date"/></label> <label>Note: <input/></label> <button>Delete</button> <!></li>'),xa=W('<h2>Sessions</h2> <label>Session Name: <input placeholder="Session Name"/></label> <label>Date: <input type="date"/></label> <label>Note: <input placeholder="Note"/></label> <button>Add Session</button> <ul></ul>',1);function wa(e,a){de(a,!1);const r=()=>_e(P,"$sessions",l),[l,f]=pe();let n=Q(""),o=Q(""),s=Q("");fe();var b=xa(),u=d(G(b),2),p=d(T(u));R(p),S(u);var _=d(u,2),m=d(T(_));R(m),S(_);var y=d(_,2),t=d(T(y));R(t),S(y);var v=d(y,2),$=d(v,2);Z($,5,r,g=>g.id,(g,c,I)=>{var x=$a(),w=T(x),N=d(T(w));R(N),S(w);var h=d(w,2),k=d(T(h));R(k),S(h);var E=d(h,2),D=d(T(E));R(D),S(E);var O=d(E,2),j=d(O,2);Sa(j,{get session(){return i(c)}}),S(x),H(N,()=>i(c).name,A=>(i(c).name=A,q(()=>r()),B(l,"$sessions"))),C("input",N,A=>ie(i(c).id,"name",A.target.value)),H(k,()=>i(c).date,A=>(i(c).date=A,q(()=>r()),B(l,"$sessions"))),C("input",k,A=>ie(i(c).id,"date",A.target.value)),H(D,()=>i(c).note,A=>(i(c).note=A,q(()=>r()),B(l,"$sessions"))),C("input",D,A=>ie(i(c).id,"note",A.target.value)),C("click",O,()=>ca(i(c).id)),V(g,x)}),S($),H(p,()=>i(n),g=>F(n,g)),H(m,()=>i(o),g=>F(o,g)),H(t,()=>i(s),g=>F(s,g)),C("click",v,()=>{da(i(n),i(o),i(s)),F(n,""),F(o,""),F(s,"")}),V(e,b),ce(),f()}var Na=W("<h1>Workout Tracker SPA</h1> <!> <!>",1);function Ra(e){var a=Na(),r=d(G(a),2);va(r,{});var l=d(r,2);wa(l,{}),V(e,a)}export{Ra as component};
