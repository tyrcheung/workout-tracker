import{f as W,a as V}from"../chunks/aD3thWn7.js";import{i as ue}from"../chunks/GHVIuUoF.js";import{a as Z,a1 as Ne,a8 as K,h as F,a4 as Ie,ad as Ce,x as s,C as De,aI as Me,aj as Re,as as pe,a7 as j,e as B,a5 as qe,aG as Oe,aq as _e,c as D,aO as q,b as ie,s as Ve,ag as he,w as z,aE as se,aP as Se,aQ as We,aR as Fe,aS as He,r as Ee,p as $e,aT as ee,a6 as ze,aD as Ue,d as Ye,aU as we,aJ as Le,t as Xe,aV as Pe,aW as Be,aX as ke,aM as Ge,i as U,ah as Je,W as oe,a0 as S,X as Q,Z as fe,$ as O,y as I,_ as G,aY as M,T as Qe,Y as ge}from"../chunks/Butgpg6P.js";import{e as k,s as Ze}from"../chunks/F_SgMVyu.js";import{r as x}from"../chunks/DxSFs0GY.js";import{s as de,a as ve,i as L,p as Ke}from"../chunks/Iv9v8aNp.js";import{w as ye}from"../chunks/C3bHatzj.js";function je(e,a){return a}function ea(e,a,r){for(var n=[],f=a.length,t,o=a.length,i=0;i<f;i++){let h=a[i];$e(h,()=>{if(t){if(t.pending.delete(h),t.done.add(h),t.pending.size===0){var _=e.outrogroups;le(se(t.done)),_.delete(t),_.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var v=n.length===0&&r!==null;if(v){var u=r,d=u.parentNode;Ue(d),d.append(u),e.items.clear()}le(a,!v)}else t={pending:new Set(a),done:new Set},(e.outrogroups??=new Set).add(t)}function le(e,a=!0){for(var r=0;r<e.length;r++)Ye(e[r],a)}var me;function J(e,a,r,n,f,t=null){var o=e,i=new Map;{var v=e;o=F?K(Ie(v)):v.appendChild(Z())}F&&Ce();var u=null,d=De(()=>{var E=r();return Se(E)?E:E==null?[]:se(E)}),h,_=!0;function b(){p.fallback=u,aa(p,h,o,a,n),u!==null&&(h.length===0?(u.f&q)===0?Ee(u):(u.f^=q,Y(u,null,o)):$e(u,()=>{u=null}))}var l=Ne(()=>{h=s(d);var E=h.length;let c=!1;if(F){var g=Me(o)===Re;g!==(E===0)&&(o=pe(),K(o),j(!1),c=!0)}for(var m=new Set,w=D,y=Ve(),N=0;N<E;N+=1){F&&B.nodeType===qe&&B.data===Oe&&(o=B,c=!0,j(!1));var $=h[N],A=n($,N),C=_?null:i.get(A);C?(C.v&&_e(C.v,$),C.i&&_e(C.i,N),y&&w.skipped_effects.delete(C.e)):(C=ra(i,_?o:me??=Z(),$,A,N,f,a,r),_||(C.e.f|=q),i.set(A,C)),m.add(A)}if(E===0&&t&&!u&&(_?u=ie(()=>t(o)):(u=ie(()=>t(me??=Z())),u.f|=q)),F&&E>0&&K(pe()),!_)if(y){for(const[Te,Ae]of i)m.has(Te)||w.skipped_effects.add(Ae.e);w.oncommit(b),w.ondiscard(()=>{})}else b();c&&j(!0),s(d)}),p={effect:l,items:i,outrogroups:null,fallback:u};_=!1,F&&(o=B)}function aa(e,a,r,n,f){var t=a.length,o=e.items,i=e.effect.first,v,u=null,d=[],h=[],_,b,l,p;for(p=0;p<t;p+=1){if(_=a[p],b=f(_,p),l=o.get(b).e,e.outrogroups!==null)for(const A of e.outrogroups)A.pending.delete(l),A.done.delete(l);if((l.f&q)!==0)if(l.f^=q,l===i)Y(l,null,r);else{var E=u?u.next:i;l===e.effect.last&&(e.effect.last=l.prev),l.prev&&(l.prev.next=l.next),l.next&&(l.next.prev=l.prev),R(e,u,l),R(e,l,E),Y(l,E,r),u=l,d=[],h=[],i=u.next;continue}if((l.f&ee)!==0&&Ee(l),l!==i){if(v!==void 0&&v.has(l)){if(d.length<h.length){var c=h[0],g;u=c.prev;var m=d[0],w=d[d.length-1];for(g=0;g<d.length;g+=1)Y(d[g],c,r);for(g=0;g<h.length;g+=1)v.delete(h[g]);R(e,m.prev,w.next),R(e,u,m),R(e,w,c),i=c,u=w,p-=1,d=[],h=[]}else v.delete(l),Y(l,i,r),R(e,l.prev,l.next),R(e,l,u===null?e.effect.first:u.next),R(e,u,l),u=l;continue}for(d=[],h=[];i!==null&&i!==l;)(v??=new Set).add(i),h.push(i),i=i.next;if(i===null)continue}(l.f&q)===0&&d.push(l),u=l,i=l.next}if(e.outrogroups!==null){for(const A of e.outrogroups)A.pending.size===0&&(le(se(A.done)),e.outrogroups?.delete(A));e.outrogroups.size===0&&(e.outrogroups=null)}if(i!==null||v!==void 0){var y=[];if(v!==void 0)for(l of v)(l.f&ee)===0&&y.push(l);for(;i!==null;)(i.f&ee)===0&&i!==e.fallback&&y.push(i),i=i.next;var N=y.length;if(N>0){var $=t===0?r:null;ea(e,y,$)}}}function ra(e,a,r,n,f,t,o,i){var v=(o&We)!==0?(o&Fe)===0?z(r,!1,!1):he(r):null,u=(o&He)!==0?he(f):null;return{v,i:u,e:ie(()=>(t(a,v??r,u??f,i),()=>{e.delete(n)}))}}function Y(e,a,r){if(e.nodes)for(var n=e.nodes.start,f=e.nodes.end,t=a&&(a.f&q)===0?a.nodes.start:r;n!==null;){var o=ze(n);if(t.before(n),n===f)return;n=o}}function R(e,a,r){a===null?e.effect.first=r:a.next=r,r===null?e.effect.last=a:r.prev=a}function xe(e,a,r=!1){if(e.multiple){if(a==null)return;if(!Se(a))return Pe();for(var n of e.options)n.selected=a.includes(X(n));return}for(n of e.options){var f=X(n);if(Be(f,a)){n.selected=!0;return}}(!r||a!==void 0)&&(e.selectedIndex=-1)}function ta(e){var a=new MutationObserver(()=>{xe(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Xe(()=>{a.disconnect()})}function na(e,a,r=a){var n=new WeakSet,f=!0;we(e,"change",t=>{var o=t?"[selected]":":checked",i;if(e.multiple)i=[].map.call(e.querySelectorAll(o),X);else{var v=e.querySelector(o)??e.querySelector("option:not([disabled])");i=v&&X(v)}r(i),D!==null&&n.add(D)}),Le(()=>{var t=a();if(e===document.activeElement){var o=ke??D;if(n.has(o))return}if(xe(e,t,f),f&&t===void 0){var i=e.querySelector(":checked");i!==null&&(t=X(i),r(t))}e.__value=t,f=!1}),ta(e)}function X(e){return"__value"in e?e.__value:e.value}function T(e,a,r=a){var n=new WeakSet;we(e,"input",async f=>{var t=f?e.defaultValue:e.value;if(t=ae(e)?re(t):t,r(t),D!==null&&n.add(D),await Ge(),t!==(t=a())){var o=e.selectionStart,i=e.selectionEnd,v=e.value.length;if(e.value=t??"",i!==null){var u=e.value.length;o===i&&i===v&&u>v?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=o,e.selectionEnd=Math.min(i,u))}}}),(F&&e.defaultValue!==e.value||U(a)==null&&e.value)&&(r(ae(e)?re(e.value):e.value),D!==null&&n.add(D)),Je(()=>{var f=a();if(e===document.activeElement){var t=ke??D;if(n.has(t))return}ae(e)&&f===re(e.value)||e.type==="date"&&!f&&!e.value||f!==e.value&&(e.value=f??"")})}function ae(e){var a=e.type;return a==="number"||a==="range"}function re(e){return e===""?null:+e}let ce=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((a,r)=>(r&=63,r<36?a+=r.toString(36):r<62?a+=(r-26).toString(36).toUpperCase():r>62?a+="-":a+="_",a),"");const P=ye([]);function ia(e,a){P.update(r=>[...r,{id:ce(),name:e,category:a}])}function be(e,a,r){P.update(n=>n.map(f=>f.id===e?{...f,[a]:r}:f))}function la(e){P.update(a=>a.filter(r=>r.id!==e))}var ua=W("<li><input/> <input/> <button>Delete</button></li>"),sa=W('<h2>Exercises</h2> <input placeholder="Exercise Name"/> <input placeholder="Category"/> <button>Add Exercise</button> <ul></ul>',1);function oa(e,a){oe(a,!1);const r=()=>ve(P,"$exercises",n),[n,f]=de();let t=z(""),o=z("");ue();var i=sa(),v=S(Q(i),2);x(v);var u=S(v,2);x(u);var d=S(u,2),h=S(d,2);J(h,5,r,_=>_.id,(_,b,l)=>{var p=ua(),E=G(p);x(E);var c=S(E,2);x(c);var g=S(c,2);O(p),T(E,()=>s(b).name,m=>(s(b).name=m,M(()=>r()),L(n,"$exercises"))),k("input",E,m=>be(s(b).id,"name",m.target.value)),T(c,()=>s(b).category,m=>(s(b).category=m,M(()=>r()),L(n,"$exercises"))),k("input",c,m=>be(s(b).id,"category",m.target.value)),k("click",g,()=>la(s(b).id)),V(_,p)}),O(h),T(v,()=>s(t),_=>I(t,_)),T(u,()=>s(o),_=>I(o,_)),k("click",d,()=>{ia(s(t),s(o)),I(t,""),I(o,"")}),V(e,i),fe(),f()}const H=ye([]);function fa(e,a,r){H.update(n=>[...n,{id:ce(),name:e,date:a,note:r,sets:[]}])}function te(e,a,r){H.update(n=>n.map(f=>f.id===e?{...f,[a]:r}:f))}function da(e){H.update(a=>a.filter(r=>r.id!==e))}function va(e,a){H.update(r=>r.map(n=>n.id===e?{...n,sets:[...n.sets,{id:ce(),exerciseId:a,reps:0,weight:0}]}:n))}function ne(e,a,r,n){H.update(f=>f.map(t=>t.id===e?{...t,sets:t.sets.map(o=>o.id===a?{...o,[r]:n}:o)}:t))}function ca(e,a){H.update(r=>r.map(n=>n.id===e?{...n,sets:n.sets.filter(f=>f.id!==a)}:n))}var pa=W("<option> </option>"),_a=W('<li><select></select> <input type="number" min="0" placeholder="Reps"/> <input type="number" min="0" placeholder="Weight"/> <button>Delete Set</button></li>'),ha=W("<h4>Sets</h4> <ul></ul> <button>Add Set</button>",1);function ga(e,a){oe(a,!1);const r=()=>ve(P,"$exercises",n),[n,f]=de();let t=Ke(a,"session",8);ue();var o=ha(),i=S(Q(o),2);J(i,5,()=>(Qe(t()),U(()=>t().sets)),u=>u.id,(u,d,h)=>{var _=_a(),b=G(_);ge(()=>{s(d),M(()=>{t(),r()})}),J(b,5,r,je,(c,g)=>{var m=pa(),w=G(m,!0);O(m);var y={};ge(()=>{Ze(w,(s(g),U(()=>s(g).name))),y!==(y=(s(g),U(()=>s(g).id)))&&(m.value=(m.__value=(s(g),U(()=>s(g).id)))??"")}),V(c,m)}),O(b);var l=S(b,2);x(l);var p=S(l,2);x(p);var E=S(p,2);O(_),na(b,()=>s(d).exerciseId,c=>(s(d).exerciseId=c,M(()=>t()))),k("change",b,c=>ne(t().id,s(d).id,"exerciseId",c.target.value)),T(l,()=>s(d).reps,c=>(s(d).reps=c,M(()=>t()))),k("input",l,c=>ne(t().id,s(d).id,"reps",+c.target.value)),T(p,()=>s(d).weight,c=>(s(d).weight=c,M(()=>t()))),k("input",p,c=>ne(t().id,s(d).id,"weight",+c.target.value)),k("click",E,()=>ca(t().id,s(d).id)),V(u,_)}),O(i);var v=S(i,2);k("click",v,()=>va(t().id,r()[0]?.id)),V(e,o),fe(),f()}var ma=W('<li><input/> <input type="date"/> <input/> <button>Delete</button> <!></li>'),ba=W('<h2>Sessions</h2> <input placeholder="Session Name"/> <input type="date"/> <input placeholder="Note"/> <button>Add Session</button> <ul></ul>',1);function Sa(e,a){oe(a,!1);const r=()=>ve(H,"$sessions",n),[n,f]=de();let t=z(""),o=z(""),i=z("");ue();var v=ba(),u=S(Q(v),2);x(u);var d=S(u,2);x(d);var h=S(d,2);x(h);var _=S(h,2),b=S(_,2);J(b,5,r,l=>l.id,(l,p,E)=>{var c=ma(),g=G(c);x(g);var m=S(g,2);x(m);var w=S(m,2);x(w);var y=S(w,2),N=S(y,2);ga(N,{get session(){return s(p)}}),O(c),T(g,()=>s(p).name,$=>(s(p).name=$,M(()=>r()),L(n,"$sessions"))),k("input",g,$=>te(s(p).id,"name",$.target.value)),T(m,()=>s(p).date,$=>(s(p).date=$,M(()=>r()),L(n,"$sessions"))),k("input",m,$=>te(s(p).id,"date",$.target.value)),T(w,()=>s(p).note,$=>(s(p).note=$,M(()=>r()),L(n,"$sessions"))),k("input",w,$=>te(s(p).id,"note",$.target.value)),k("click",y,()=>da(s(p).id)),V(l,c)}),O(b),T(u,()=>s(t),l=>I(t,l)),T(d,()=>s(o),l=>I(o,l)),T(h,()=>s(i),l=>I(i,l)),k("click",_,()=>{fa(s(t),s(o),s(i)),I(t,""),I(o,""),I(i,"")}),V(e,v),fe(),f()}var Ea=W("<h1>Workout Tracker SPA</h1> <!> <!>",1);function Na(e){var a=Ea(),r=S(Q(a),2);oa(r,{});var n=S(r,2);Sa(n,{}),V(e,a)}export{Na as component};
