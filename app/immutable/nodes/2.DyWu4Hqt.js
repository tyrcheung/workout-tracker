import{f as M,a as D}from"../chunks/CTjkyNO8.js";import{i as ue}from"../chunks/DAGhhj25.js";import{j as K,K as Ae,R as Z,h as V,aa as Ie,J as ye,w as l,_ as Ce,O as Re,P as De,Q as pe,S as j,m as B,ab as Me,aH as Oe,as as _e,f as z,aO as F,k as ie,s as Fe,aj as ge,V as U,aF as se,aP as $e,aQ as He,aR as Ve,aS as We,r as we,p as ke,aT as ee,ac as ze,aE as Ue,i as Le,T as Pe,aU as Ye,aV as Qe,aW as Xe,aM as qe,b as y,ak as Be,aX as Ge,C as oe,I as E,D as Q,F as fe,H,W as C,G,aY as P,E as he,x as Je}from"../chunks/DaFxjPbW.js";import{e as N,s as Ke}from"../chunks/BQYkZOUT.js";import{r as A,a as me}from"../chunks/Cxwe2ft-.js";import{s as ve,a as de,b as Y,p as Ze,i as je}from"../chunks/_999OL2b.js";import{w as xe}from"../chunks/CWvYodOI.js";function ea(e,a){return a}function aa(e,a,r){for(var n=[],v=a.length,i,o=a.length,u=0;u<v;u++){let c=a[u];ke(c,()=>{if(i){if(i.pending.delete(c),i.done.add(c),i.pending.size===0){var _=e.outrogroups;le(se(i.done)),_.delete(i),_.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var p=n.length===0&&r!==null;if(p){var s=r,d=s.parentNode;Ue(d),d.append(s),e.items.clear()}le(a,!p)}else i={pending:new Set(a),done:new Set},(e.outrogroups??=new Set).add(i)}function le(e,a=!0){for(var r=0;r<e.length;r++)Le(e[r],a)}var be;function J(e,a,r,n,v,i=null){var o=e,u=new Map;{var p=e;o=V?Z(Ie(p)):p.appendChild(K())}V&&ye();var s=null,d=Ce(()=>{var b=r();return $e(b)?b:b==null?[]:se(b)}),c,_=!0;function $(){f.fallback=s,ra(f,c,o,a,n),s!==null&&(c.length===0?(s.f&F)===0?we(s):(s.f^=F,L(s,null,o)):ke(s,()=>{s=null}))}var t=Ae(()=>{c=l(d);var b=c.length;let g=!1;if(V){var S=Re(o)===De;S!==(b===0)&&(o=pe(),Z(o),j(!1),g=!0)}for(var m=new Set,w=z,T=Fe(),k=0;k<b;k+=1){V&&B.nodeType===Me&&B.data===Oe&&(o=B,g=!0,j(!1));var h=c[k],x=n(h,k),I=_?null:u.get(x);I?(I.v&&_e(I.v,h),I.i&&_e(I.i,k),T&&w.skipped_effects.delete(I.e)):(I=ta(u,_?o:be??=K(),h,x,k,v,a,r),_||(I.e.f|=F),u.set(x,I)),m.add(x)}if(b===0&&i&&!s&&(_?s=ie(()=>i(o)):(s=ie(()=>i(be??=K())),s.f|=F)),V&&b>0&&Z(pe()),!_)if(T){for(const[q,Te]of u)m.has(q)||w.skipped_effects.add(Te.e);w.oncommit($),w.ondiscard(()=>{})}else $();g&&j(!0),l(d)}),f={effect:t,items:u,outrogroups:null,fallback:s};_=!1,V&&(o=B)}function ra(e,a,r,n,v){var i=a.length,o=e.items,u=e.effect.first,p,s=null,d=[],c=[],_,$,t,f;for(f=0;f<i;f+=1){if(_=a[f],$=v(_,f),t=o.get($).e,e.outrogroups!==null)for(const x of e.outrogroups)x.pending.delete(t),x.done.delete(t);if((t.f&F)!==0)if(t.f^=F,t===u)L(t,null,r);else{var b=s?s.next:u;t===e.effect.last&&(e.effect.last=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),O(e,s,t),O(e,t,b),L(t,b,r),s=t,d=[],c=[],u=s.next;continue}if((t.f&ee)!==0&&we(t),t!==u){if(p!==void 0&&p.has(t)){if(d.length<c.length){var g=c[0],S;s=g.prev;var m=d[0],w=d[d.length-1];for(S=0;S<d.length;S+=1)L(d[S],g,r);for(S=0;S<c.length;S+=1)p.delete(c[S]);O(e,m.prev,w.next),O(e,s,m),O(e,w,g),u=g,s=w,f-=1,d=[],c=[]}else p.delete(t),L(t,u,r),O(e,t.prev,t.next),O(e,t,s===null?e.effect.first:s.next),O(e,s,t),s=t;continue}for(d=[],c=[];u!==null&&u!==t;)(p??=new Set).add(u),c.push(u),u=u.next;if(u===null)continue}(t.f&F)===0&&d.push(t),s=t,u=t.next}if(e.outrogroups!==null){for(const x of e.outrogroups)x.pending.size===0&&(le(se(x.done)),e.outrogroups?.delete(x));e.outrogroups.size===0&&(e.outrogroups=null)}if(u!==null||p!==void 0){var T=[];if(p!==void 0)for(t of p)(t.f&ee)===0&&T.push(t);for(;u!==null;)(u.f&ee)===0&&u!==e.fallback&&T.push(u),u=u.next;var k=T.length;if(k>0){var h=i===0?r:null;aa(e,T,h)}}}function ta(e,a,r,n,v,i,o,u){var p=(o&He)!==0?(o&Ve)===0?U(r,!1,!1):ge(r):null,s=(o&We)!==0?ge(v):null;return{v:p,i:s,e:ie(()=>(i(a,p??r,s??v,u),()=>{e.delete(n)}))}}function L(e,a,r){if(e.nodes)for(var n=e.nodes.start,v=e.nodes.end,i=a&&(a.f&F)===0?a.nodes.start:r;n!==null;){var o=ze(n);if(i.before(n),n===v)return;n=o}}function O(e,a,r){a===null?e.effect.first=r:a.next=r,r===null?e.effect.last=a:r.prev=a}function Ne(e,a,r=!1){if(e.multiple){if(a==null)return;if(!$e(a))return Ye();for(var n of e.options)n.selected=a.includes(Ee(n));return}for(n of e.options){var v=Ee(n);if(Qe(v,a)){n.selected=!0;return}}(!r||a!==void 0)&&(e.selectedIndex=-1)}function na(e){var a=new MutationObserver(()=>{Ne(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Pe(()=>{a.disconnect()})}function Ee(e){return"__value"in e?e.__value:e.value}function R(e,a,r=a){var n=new WeakSet;Xe(e,"input",async v=>{var i=v?e.defaultValue:e.value;if(i=ae(e)?re(i):i,r(i),z!==null&&n.add(z),await qe(),i!==(i=a())){var o=e.selectionStart,u=e.selectionEnd,p=e.value.length;if(e.value=i??"",u!==null){var s=e.value.length;o===u&&u===p&&s>p?(e.selectionStart=s,e.selectionEnd=s):(e.selectionStart=o,e.selectionEnd=Math.min(u,s))}}}),(V&&e.defaultValue!==e.value||y(a)==null&&e.value)&&(r(ae(e)?re(e.value):e.value),z!==null&&n.add(z)),Be(()=>{var v=a();if(e===document.activeElement){var i=Ge??z;if(n.has(i))return}ae(e)&&v===re(e.value)||e.type==="date"&&!v&&!e.value||v!==e.value&&(e.value=v??"")})}function ae(e){var a=e.type;return a==="number"||a==="range"}function re(e){return e===""?null:+e}let ce=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((a,r)=>(r&=63,r<36?a+=r.toString(36):r<62?a+=(r-26).toString(36).toUpperCase():r>62?a+="-":a+="_",a),"");const X=xe([]);function ia(e,a){X.update(r=>[...r,{id:ce(),name:e,category:a}])}function Se(e,a,r){X.update(n=>n.map(v=>v.id===e?{...v,[a]:r}:v))}function la(e){X.update(a=>a.filter(r=>r.id!==e))}var ua=M("<li><input/> <input/> <button>Delete</button></li>"),sa=M('<h2>Exercises</h2> <input placeholder="Exercise Name"/> <input placeholder="Category"/> <button>Add Exercise</button> <ul></ul>',1);function oa(e,a){oe(a,!1);const r=()=>de(X,"$exercises",n),[n,v]=ve();let i=U(""),o=U("");ue();var u=sa(),p=E(Q(u),2);A(p);var s=E(p,2);A(s);var d=E(s,2),c=E(d,2);J(c,5,r,_=>_.id,(_,$,t)=>{var f=ua(),b=G(f);A(b);var g=E(b,2);A(g);var S=E(g,2);H(f),R(b,()=>l($).name,m=>(l($).name=m,P(()=>r()),Y(n,"$exercises"))),N("input",b,m=>Se(l($).id,"name",m.target.value)),R(g,()=>l($).category,m=>(l($).category=m,P(()=>r()),Y(n,"$exercises"))),N("input",g,m=>Se(l($).id,"category",m.target.value)),N("click",S,()=>la(l($).id)),D(_,f)}),H(c),R(p,()=>l(i),_=>C(i,_)),R(s,()=>l(o),_=>C(o,_)),N("click",d,()=>{ia(l(i),l(o)),C(i,""),C(o,"")}),D(e,u),fe(),v()}const W=xe([]);function fa(e,a,r){W.update(n=>[...n,{id:ce(),name:e,date:a,note:r,sets:[]}])}function te(e,a,r){W.update(n=>n.map(v=>v.id===e?{...v,[a]:r}:v))}function va(e){W.update(a=>a.filter(r=>r.id!==e))}function da(e,a){W.update(r=>r.map(n=>n.id===e?{...n,sets:[...n.sets,{id:ce(),exerciseId:a,reps:0,weight:0}]}:n))}function ne(e,a,r,n){W.update(v=>v.map(i=>i.id===e?{...i,sets:i.sets.map(o=>o.id===a?{...o,[r]:n}:o)}:i))}function ca(e,a){W.update(r=>r.map(n=>n.id===e?{...n,sets:n.sets.filter(v=>v.id!==a)}:n))}var pa=M("<p>No exercises available. Add an exercise first.</p>"),_a=M("<option> </option>"),ga=M('<li><select></select> <input type="number" min="0" placeholder="Reps"/> <input type="number" min="0" placeholder="Weight"/> <button>Delete Set</button></li>'),ha=M("<ul></ul> <button>Add Set</button>",1),ma=M("<h4>Sets</h4> <!>",1);function ba(e,a){oe(a,!1);const r=()=>de(X,"$exercises",n),[n,v]=ve();let i=Ze(a,"session",8);ue();var o=ma(),u=E(Q(o),2);{var p=d=>{var c=pa();D(d,c)},s=d=>{var c=ha(),_=Q(c);J(_,5,()=>(Je(i()),y(()=>i().sets)),t=>t.id,(t,f)=>{var b=ga(),g=G(b);J(g,5,r,ea,(k,h)=>{var x=_a(),I=G(x,!0);H(x);var q={};he(()=>{Ke(I,(l(h),y(()=>l(h).name))),q!==(q=(l(h),y(()=>l(h).id)))&&(x.value=(x.__value=(l(h),y(()=>l(h).id)))??"")}),D(k,x)}),H(g);var S;na(g);var m=E(g,2);A(m);var w=E(m,2);A(w);var T=E(w,2);H(b),he(()=>{S!==(S=(l(f),y(()=>l(f).exerciseId)))&&(g.value=(g.__value=(l(f),y(()=>l(f).exerciseId)))??"",Ne(g,(l(f),y(()=>l(f).exerciseId)))),me(m,(l(f),y(()=>l(f).reps))),me(w,(l(f),y(()=>l(f).weight)))}),N("change",g,k=>ne(i().id,l(f).id,"exerciseId",k.target.value)),N("input",m,k=>ne(i().id,l(f).id,"reps",+k.target.value)),N("input",w,k=>ne(i().id,l(f).id,"weight",+k.target.value)),N("click",T,()=>ca(i().id,l(f).id)),D(t,b)}),H(_);var $=E(_,2);N("click",$,()=>da(i().id,r()[0].id)),D(d,c)};je(u,d=>{r(),y(()=>r().length===0)?d(p):d(s,!1)})}D(e,o),fe(),v()}var Ea=M('<li><input/> <input type="date"/> <input/> <button>Delete</button> <!></li>'),Sa=M('<h2>Sessions</h2> <input placeholder="Session Name"/> <input type="date"/> <input placeholder="Note"/> <button>Add Session</button> <ul></ul>',1);function $a(e,a){oe(a,!1);const r=()=>de(W,"$sessions",n),[n,v]=ve();let i=U(""),o=U(""),u=U("");ue();var p=Sa(),s=E(Q(p),2);A(s);var d=E(s,2);A(d);var c=E(d,2);A(c);var _=E(c,2),$=E(_,2);J($,5,r,t=>t.id,(t,f,b)=>{var g=Ea(),S=G(g);A(S);var m=E(S,2);A(m);var w=E(m,2);A(w);var T=E(w,2),k=E(T,2);ba(k,{get session(){return l(f)}}),H(g),R(S,()=>l(f).name,h=>(l(f).name=h,P(()=>r()),Y(n,"$sessions"))),N("input",S,h=>te(l(f).id,"name",h.target.value)),R(m,()=>l(f).date,h=>(l(f).date=h,P(()=>r()),Y(n,"$sessions"))),N("input",m,h=>te(l(f).id,"date",h.target.value)),R(w,()=>l(f).note,h=>(l(f).note=h,P(()=>r()),Y(n,"$sessions"))),N("input",w,h=>te(l(f).id,"note",h.target.value)),N("click",T,()=>va(l(f).id)),D(t,g)}),H($),R(s,()=>l(i),t=>C(i,t)),R(d,()=>l(o),t=>C(o,t)),R(c,()=>l(u),t=>C(u,t)),N("click",_,()=>{fa(l(i),l(o),l(u)),C(i,""),C(o,""),C(u,"")}),D(e,p),fe(),v()}var wa=M("<h1>Workout Tracker SPA</h1> <!> <!>",1);function Ca(e){var a=wa(),r=E(Q(a),2);oa(r,{});var n=E(r,2);$a(n,{}),D(e,a)}export{Ca as component};
